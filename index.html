
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Globe Test</title>

  <!-- Core libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>
    <script src="https://unpkg.com/d3-geo-projection@4"></script>


  <!-- Styles -->
    <link rel="stylesheet" href="globe.css">
  <!-- Your app scripts (defer to avoid blocking the parser) -->
    <script src="./JavaScripts/globe.js" defer></script>
    <script  src="./JavaScripts/helpers.js" defer></script>
    
    <script  src="./JavaScripts/callData.js" defer></script>
    <script  src="./JavaScripts/vesselData.js" defer></script>
    <script  src="./JavaScripts/powerData.js" defer></script>
    <script  src="./JavaScripts/tutorial.js" defer></script>
    <script  src="./JavaScripts/tutorialModule.js" defer></script>
    <script  src="header.js" defer></script>
    <script  src="maths.js" defer></script>
    <script  src="charts.js" defer></script>
    
    <script src="focus.js" defer></script>
    <script src="./JavaScripts/connections.js" defer></script>
    
<!-- This installs Font Awesome-->
        <script src="https://kit.fontawesome.com/14dbedf33a.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  







  <!-- SheetJS (xlsx) must be available before export.js uses it -->
 <script src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js" defer></script>

  <!-- Export utilities that define CruiseExporter -->
 <script src ="./JavaScripts/export.js" defer></script>

  <!-- Buttons & modal behavior (the code moved out of the HTML) -->
<script src ="./JavaScripts/export-modal.js" defer></script>
</head>

<body>
  <header class="hBar" id="theHeaderBar">
    <h1>Prototype BCT Data Portal</h1>

    <nav>
      <ul id="navBarItems">
        <li>Summary</li>
        <li>Visits</li>
        <li>Shore Power</li>
      </ul>
    </nav>

    <!-- Help icon -->
    <i id="help-btn" class="fa-regular fa-circle-question" title="Help" style="cursor:pointer;"></i>

    <!-- Export icon (clickable via JS by ID) -->
    <i id="download-combo"
       class="fa-solid fa-database"
       style="cursor:pointer;"
       title="Export Data"></i>
  </header>

  <div id="earth"></div>

  <div id="dataSpace" data-layout="overview">
    <div id="berthSpace"></div>

    <div id="cardSpace"></div>

    <div id="D3andME">
      <div class="kpiBucket" id="callsChartContainer">
        <div class="baseStats"></div>
        <div id="callsRadialChart" class="radial_anchor"></div>
        <div id="callsCentralChart"></div>
        
      </div>

      <div class="kpiBucket" id="ospChartContainer">
        <div class="baseStats"></div>
        <div id="ospRadialChart" class="radial_anchor"></div>
        <div id="ospCentralChart"></div>
        
      </div>
    </div>
  </div>


  
<!-- Tutorial Overlay Root -->
<div id="tutorial-root" hidden>
  <div class="tut-overlay" aria-hidden="true"></div>
  <div class="tut-spotlight" aria-hidden="true"></div>

  <div class="tut-panel" role="dialog" aria-modal="true" aria-labelledby="tut-title">
    <h2 id="tut-title" class="tut-title"></h2>
    <div class="tut-content"></div>

    <div class="tut-actions">
      <button type="button" class="tut-prev" aria-label="Previous step">Prev</button>
      <button type="button" class="tut-next" aria-label="Next step">Next</button>
      <button type="button" class="tut-done" aria-label="Skip tutorial">Skip Tour</button>
    </div>

  </div>
</div>



  <!-- Popup Modal -->
  <dialog id="exportChoiceModal" class="export-modal">
    <form method="dialog" class="export-modal__content">
      <div class="export-modal__header">
        <button
          type="button"
          id="exportModalCloseBtn"
          class="export-modal__close"
          aria-label="Close">âœ•</button>
      </div>
      <p>Please choose a format to export:</p>
      <div class="export-modal__actions">
        <button type="button" id="exportExcelBtn" class="btn btn-primary">Excel (.xlsx)</button>
        <button type="button" id="exportPdfBtn" class="btn btn-secondary">PDF (.pdf)</button>
      </div>
    </form>
  </dialog>


</body>
</html>
