:root {
    --cp1: #d4ac63;
    --cp2: #cd2435;
    --cp3: #e56335;
    --cp4: #2b4d7d;
    --cp5: #f4f5f7;  
    --instrument-rim: 8px;
    --rim-base: #b78a3d;
    --rim-shadow: #7a5c2b;
    --rim-highlight: #f8e6b6;
    --rim-reflect1: #caa35a;
    --rim-reflect2: #d9b978;   
    --brass-base: #c4933a;
    --brass-mid: #d9b15b;
    --brass-deep: #7a5c2b;
    --brass-hi: #fff1c2; 
    --odometerFontSize: 6rem;
    --odometerFontWidth: 1.2ch;
}

* {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

i {
    font-size: xx-large;
    color: var(--cp5);
    line-height: 1.5rem;
    margin: 0px 10px 0px 10px;
}

body {
    height: 100%;
    box-sizing: border-box;
    margin: 0;
    display: grid;
    grid-template-areas: 
        "gridHeaderArea"
        "gridBodyArea"
    ;
    grid-template-rows: auto 1fr;
    grid-template-columns: 100%;
}

header {
    grid-row: gridHeaderArea;
    grid-column: 1;
    background-color: var(--cp4);
    height: 1.25rem;
    width: 100%;
    position: sticky;
    top: 0;
    left: 0px;
    border-bottom: 2px solid var(--cp3);
    padding-bottom: 1rem;
    padding-top: 1.25rem;
    display: inline-flex;
    justify-content: space-between;
    z-index: 100;
    align-items: center;
}

header h1 {
    margin: 0px 0px 0px 0px;
    color: var(--cp5);
    font-variant: small-caps;
    size: 1.5rem;
    
}
 
header nav {
    margin-left: auto; 
}
 
#navBarItems {
    display: flex;
    border-width: 5px;
    justify-content: space-around;
    height: 40px;
    align-items: center;
    margin: 0px;
}

#navBarItems li {
    position: relative;
    margin: 0px 15px;
    color: var(--cp5);
    border: 3px solid transparent;  
    list-style-type: none;
    transition: all 500ms ease-in-out 100ms;
}
 
#navBarItems li::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-bottom: 3px solid transparent; /* Initial transparent border for pseudo-element */
    transform: scale(0, 1);
    transform-origin: left;
    transition: transform 0.5s ease, border-color 0.8s ease;content: '';
}
 
#navBarItems li:hover::before, #navBarItems li.selectedNavItem::before {
        border-color: var(--cp3);
        transform: scale(1, 1); 
    }

body {
    margin: 0px;
    overflow-x: hidden;
    box-sizing: border-box;
}

#earth {
    grid-row: gridBodyArea;
    grid-column: 1;
    display: flex;
    width: 100%;
    position: relative;
    box-sizing: border-box;
}

#dataSpace {
    grid-row: gridBodyArea;
    grid-column: 1;
    z-index: 1;
    display:flex;
    flex-direction: column;
    justify-content: space-between;
}

#berthSpace {
    display: inline-flex;
    justify-content: space-around;
    height: 30px;
    width: 100%;
    
}

#cardSpace {
    align-items: center;
    display: inline-flex;
    justify-content: space-around;
    width: 100%;
    flex: 2;
    transition: flex 500ms ease;
}

#cardSpace.collapsed {
    flex: 0; /* Shrinks to zero height */
    overflow: hidden; /* Hide content */
}

.poiLabel {
  paint-order: stroke;
  stroke: rgba(0,0,0,0.55);
  stroke-width: 2px;
  font-weight: 600;
  opacity: 1;
}

#D3andME {
    flex: 3;
    display: inline-flex;
    justify-content: space-around;
    align-items: center;
    width: 100%;
}

.kpiBucket {
    padding: var(--instrument-rim);
    height: 90%;
    justify-self: center;
    border-radius: 50%;
    aspect-ratio: 1/1;
    overflow: visible;
    margin: 60px;
    position: relative;
    transition: transform 500ms ease, opacity 500ms ease;
    transform: scale(1);
    will-change: transform;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;

    background-blend-mode: normal, screen, multiply, normal;

    background: radial-gradient(closest-side, #fbfbfb 0%, #ededed 55%, #dddddd 100%) content-box;
 
    background-clip: content-box;
    
    border-radius: 50%;
    box-shadow: 
        0 8px 20px rgba(0,0,0,0.35),
        inset 0 0 0 2px rgba(255,255,255,0.15),
        inset 0 -6px 12px rgba(0,0,0,0.35);

}


.kpiBucket::before {
    content: "";
    position: absolute;
    inset: 0;                 
    border-radius: 50%;
    pointer-events: none;
    z-index: 1;               

    background:   
        conic-gradient(
            from 18deg,
            transparent 0deg 24deg,
            var(--brass-hi) 30deg,
            transparent 36deg 210deg,
            var(--brass-hi) 216deg,
            transparent 222deg 360deg
        ),

        conic-gradient(
            from 90deg,
            var(--brass-mid) 0deg,
            var(--brass-base) 60deg,
            var(--brass-deep) 120deg,
            var(--brass-mid) 180deg,
            var(--brass-base) 240deg,
            var(--brass-deep) 300deg,
            var(--brass-mid) 360deg
        ),

        linear-gradient(
            to bottom,
            rgba(0,0,0,0.15),
            rgba(0,0,0,0.05) 20%,
            rgba(255,255,255,0.22) 50%,
            rgba(0,0,0,0.06) 80%,
            rgba(0,0,0,0.18)
        );

    background-clip: border-box;
    background-blend-mode: screen, multiply, normal;
    -webkit-mask:
        radial-gradient(closest-side, transparent calc(100% - var(--instrument-rim)), black 0);
    mask:
        radial-gradient(closest-side, transparent calc(100% - var(--instrument-rim)), black 0);
}

.kpiBucket .glass {
    z-index: 20;
    pointer-events: none;
    position: absolute; 
    inset: var(--instrument-rim);
    border-radius: 50%;
    background:
        radial-gradient(120% 120% at 22% 18%, 
            rgba(255,255,255,0.22) 0%, 
            rgba(255,255,255,0.12) 35%, 
            rgba(255,255,255,0.06) 60%,
            transparent 70%);
    box-shadow:
        inset 0 0 0 2px rgba(255,255,255,0.12);   /* glass rim light */
    backdrop-filter: saturate(1.03) contrast(1.02);
    transition: transform 400ms ease, opacity 300ms ease;
    opacity: 0.5; 
}

.kpiBucket:hover .glass { transform: translateY(-0.5px); opacity: 1; }
.kpiBucket.focused .glass { transform: translateY(-1px) scale(1.001); }

.kpiBucket.focused {
    transform: scale (3);
    aspect-ratio: 1 / 1;
    z-index: 10;
}

.kpiBucket.shrunk {
    transform: scale(1);
    opacity: 0.7;
}

.trendingBox {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
    min-width: 0;
}

#shipCallKPIs {
    display: flex;
}

.speedRead {
    display: inline-flex;
    gap: 0.15rem;
    align-items: center;
    color: var(--kpi-fg, #0f172a);
    font-weight: 700;
    font-size: var(--odometerFontSize); /* tune as needed */
    line-height: 1rem;
    text-align: center;
    }

.speedRead .digit {
    position: relative;
    overflow: hidden;
    line-height: 1;
    width: var(--odometerFontWidth);
    height: 1em;
    background: var(--kpi-bg, #f8fafc);
    border-radius: 0.25rem;
    box-shadow: inset 0 0 0 1px rgba(15,23,42,0.08);
}

.speedRead .digit .stack {
display: flex;
flex-direction: column;
  position: absolute;
  left: 0; top: 0;
  width: 100%;
  transition: transform 1200ms ease; /* smooth roll */
  will-change: transform;
}

.speedRead .digit .stack span {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 1em;                              /* equal to digit container height */
  text-align: center;
  line-height: 1;
  padding-block: 0rem;
  font-family: 'Inter', 'Roboto Mono', 'IBM Plex Mono', system-ui, sans-serif;
  
font-variant-numeric: tabular-nums;
   font-feature-settings: 'tnum' 1

}

/* Optional: commas for thousands */
.speedRead .sep {
  width: 1ch;
  text-align: center;
  color: #94a3b8;                              /* slate-400 */
}

/* Optional: leading zeros look faint until animated in */
.speedRead .digit.is-leading .stack {
  opacity: 0.45;
}

.speedArrow {
    font-size: 2rem;
    font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
    margin: 0px 5px;
    flex: 0 0 auto;
    white-space: nowrap;
}

.speedTrend {
    flex: 0 1 auto;
    white-space: nowrap;
    min-width: 0;
    font-size: clamp(1.25rem, 2vw, 2rem);
    font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
    margin: 0px 5px;
}

#leftChartContainer::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width:0;
    height: 0;
    overflow: visible;
    pointer-events: none;
}

#leftRadialChart {
    position: absolute;
    inset: 0;
    overflow: visible;

}

#rightChartContainer::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width:0;
    height: 0;
    overflow: visible;
    pointer-events: none;
}

#rightRadialChart {
    position: absolute;
    inset: 0;
    overflow: visible;
}

